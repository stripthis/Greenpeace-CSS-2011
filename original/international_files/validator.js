var Validator=function(b){var a={emailRegex:/^([a-zA-Z0-9_\-\.\+]{1,64})@(([a-zA-Z0-9_\-\.]{1,250})\.([a-zA-Z]{2,5}))$/i,validPasswordRegex:/^(?=.*[A-Z0-9@\*#])(?=.*[a-z]).{4,20}$/,urlRegex:/^((http)\:\/\/)?(www.|[a-zA-Z].)[a-zA-Z0-9\-\.]+\.([A-Za-z]{2,10})(\:[0-9]+)*(\/($|[a-zA-Z0-9\.\,\;\?\'\\\+&amp;%\$#\=~_\-]+))*$/i,phoneNumberRegex:/^\+?[\d\s\(\)-]{3,}$/i,zipcodeRegex:"",defaultValues:new Array(),isEmpty:function(c){if(c==null||jQuery.trim(c)==""){return true}return false},isValid:function(f,c){if(c==null){c=true}var h=true;var g=f.attr("class");var d=g.split(" ");var e=f.val();if(a.defaultValues[f.attr("id")]!=null&&a.defaultValues[f.attr("id")]!=""&&a.defaultValues[f.attr("id")]==e){e=""}var i=f.closest(".row");if(!c){b(".attention p",i).hide()}jQuery.each(d,function(){if(a.isEmpty(e)){if(this.indexOf(":isrequired")!=-1&&a.isEmpty(e)){if(!c){b("#"+f.get(0).id+"_isrequired").css("display","block")}h=false;return false}else{if(this.indexOf(":fieldorfieldrequired")!=-1){var q=this.split(";")[1];var m=b("#"+q).val();if(a.defaultValues[q]!=null&&a.defaultValues[q]!=""&&a.defaultValues[q]==m){m=""}if(a.isEmpty(e)&&a.isEmpty(m)){if(!c){b("#"+f.get(0).id+"_fieldorfieldrequired").css("display","block")}h=false;return false}}else{if(this.indexOf(":fieldandfieldrequired")!=-1){var q=this.split(";")[1];var m=b("#"+q).val();if(a.defaultValues[q]!=null&&a.defaultValues[q]!=""&&a.defaultValues[q]==m){m=""}if(a.isEmpty(e)||a.isEmpty(m)){if(!c){b("#"+f.get(0).id+"_fieldandfieldrequired").css("display","block")}h=false;return false}}else{if(this.indexOf(":cellphoneparts")!=-1){var q=this.split(";")[1];var m=b("#"+q).val();if(a.defaultValues[q]!=null&&a.defaultValues[q]!=""&&a.defaultValues[q]==m){m=""}if(a.isEmpty(e)||a.isEmpty(m)){if(!c){b("#"+f.get(0).id+"_cellphoneparts").css("display","block")}h=false;return false}}}}}}else{if(this.indexOf(":isvalidemail")!=-1&&!a.emailRegex.test(jQuery.trim(e))){if(!c){b("#"+f.get(0).id+"_isvalidemail").css("display","block")}h=false;return false}else{if(this.indexOf(":isvalidurl")!=-1){var l=e;if(l.indexOf("http://")==0){l=e.replace("http://","")}if(!a.urlRegex.test(e)){if(!c){b("#"+f.get(0).id+"_isvalidurl").css("display","block")}i.addClass("error");h=false;return false}}else{if(this.indexOf(":isvalidpassword")!=-1&&!a.validPasswordRegex.test(e)){if(!c){b("#"+f.get(0).id+"_isvalidpassword").css("display","block")}h=false;return false}else{if(this.indexOf(":isequalto")!=-1){var k=this.split(";")[1];if(e!=b(document.getElementById(k)).val()){if(!c){b("#"+f.get(0).id+"_isequalto").css("display","block")}h=false;return false}}else{if(this.indexOf(":maxlength")!=-1){var j=this.split(";")[1];if(e.length>parseInt(j)){if(!c){b("#"+f.get(0).id+"_maxlength").css("display","block")}h=false;return false}}else{if(this.indexOf(":isnumber")!=-1&&(e!=parseInt(e))){if(!c){b("#"+f.get(0).id+"_isnumber").css("display","block")}h=false;return false}else{if(this.indexOf(":minvalue")!=-1){var p=this.split(";")[1];if(parseFloat(e)<parseFloat(p)){if(!c){b("#"+f.get(0).id+"_minvalue").css("display","block")}h=false;return false}}else{if(this.indexOf(":isvalidphonenumber")!=-1&&!a.phoneNumberRegex.test(e)){if(!c){b("#"+f.get(0).id+"_isvalidphonenumber").css("display","block")}h=false;return false}else{if(this.indexOf(":isvalidzipcode")!=-1){if(a.zipcodeRegex!=""){var n=new RegExp(a.zipcodeRegex,"i");if(!n.test(e)){if(!c){b("#"+f.get(0).id+"_isvalidzipcode").css("display","block")}h=false;return false}}}else{if(this.indexOf(":isuniqueemail")!=-1){if(c){if(!b("span.ok",i).is(":visible")){h=false;return false}}else{var o=b.ajax({url:resources.base_url+"/Templates/Planet3/Handlers/EmailCheck.ashx",data:"email="+e,async:false}).responseText;if(o=="true"){if(!c){b("#"+f.get(0).id+"_isuniqueemail").css("display","block")}h=false;return false}}}else{if(this.indexOf(":isuniquescreenname")!=-1){if(c){if(!b("span.ok",i).is(":visible")){h=false;return false}}else{var o=b.ajax({url:resources.base_url+"/Templates/Planet3/Handlers/ScreennameCheck.ashx",data:"screenname="+e,async:false}).responseText;if(o=="true"){if(!c){b("#"+f.get(0).id+"_isuniquescreenname").css("display","block")}h=false;return false}}}else{if(this.indexOf(":cellphoneparts")!=-1){var q=this.split(";")[1];var m=b("#"+q).val();if(!a.phoneNumberRegex.test(m+e)){if(!c){b("#"+f.get(0).id+"_cellphoneparts").css("display","block")}h=false;return false}}}}}}}}}}}}}}});if(!c){if(!h){i.addClass("error");b("span.ok",i).hide();b("div.tooltips",i).show()}else{i.removeClass("error");b("div.tooltips",i).hide();if(e!=""){b("span.ok",i).show()}else{b("span.ok",i).hide()}}}return h}};return{isValid:function(c){return a.isValid(c,true)},setZipCodeRegex:function(c){a.zipcodeRegex=c},isFormValid:function(h,g,j,c){if(c==null){c=true}var i=true;if(j!=null&&!j){i=false}else{var d=g!=null&&g.length?g:h;var e=b("input, textarea, select",d);e.each(function(k){if(b(this).is(":visible")&&!a.isValid(b(this),c)){i=false}})}var f=b(".message-bar",h);if(i){if(j==null||j){f.removeClass("message-bar-error")}if(b(".form-button:not(.val-exclude):last",d).length){b(".form-button:not(.val-exclude):last",d).attr("class","form-button-ready")}else{b(".form-button-hover:last",d).attr("class","form-button-ready-hover")}}else{if((j==null||!j)&&!f.hasClass("message-bar-error")){f.addClass("message-bar-error")}if(b(".form-button-ready:last",d).length){b(".form-button-ready:last",d).attr("class","form-button")}else{b(".form-button-ready-hover:last",d).attr("class","form-button-hover")}}return i},OnReady:function(){b(".general-form").each(function(c){var d=b(this);b("input, select, textarea",d).each(function(f){var g=b(this).closest(".bg-textbox");var h=b(this).closest(".general-subform",d);var i=b(this).attr("class");b(this).focus(function(){if(!g.hasClass("colored")){g.addClass("colored")}if(g.hasClass("defaultvalue")){g.removeClass("defaultvalue");b(this).val("")}}).blur(function(){g.removeClass("colored");if(i!=""&&i.indexOf(":")!=-1){var j=a.isValid(b(this),false);Validator.isFormValid(d,h,j,true)}if(b(this).val()==""&&a.defaultValues[this.id]!=null&&a.defaultValues[this.id]!=""){if(!g.hasClass("defaultvalue")){g.addClass("defaultvalue");b(this).val(a.defaultValues[this.id])}}});var k=i.indexOf("-default;");if(k!=-1){var l=i.indexOf(" ",k);if(l<0){l=i.length}var e=decodeURI(i.substring(k+9,l));a.defaultValues[this.id]=e;if(b(this).val()==""||b(this).val()==e){b(this).val(e);g.addClass("defaultvalue")}}})})}}}(jQuery);