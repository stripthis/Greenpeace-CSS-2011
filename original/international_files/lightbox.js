var Lightbox=function(a,d){var c={loadingMsg:'<div id="lightboxLoadingMsg" style="position: absolute;z-index:1000;text-align:center;color:#fff"><img style="display: block; margin: 10px auto;" src="'+resources.base_url+'Templates/Planet3/styles/images/loading.gif"/>'+resources.lightbox_loading+"</div>",loadingMsgId:"#lightboxLoadingMsg",container:null,contentUrl:"",contentParams:null,literal:true,title:"",width:null,height:null,closeText:"",closeOnBlur:true,overlayCss:{"background-color":"#1f1f1f",opacity:"0.9"},callback:function(){},bind:function(e,f){if(e){for(param in e){c[param]=e[param]}}if(typeof(f)=="function"){c.callback=f}c.init=true},init:false};c.bind(a,d);var b={visible:false,initialized:false,loading:false,identifier:null,lightbox:null,msie6:($.browser.msie&&typeof(XMLHttpRequest)=="undefined"&&(/MSIE 6\.0/i.test(window.navigator.userAgent))&&!(/MSIE 7\.0/i.test(window.navigator.userAgent))&&!(/MSIE 8\.0/i.test(window.navigator.userAgent))),siteOverlay:document.createElement("DIV"),bindCloseEventhandler:function(e){$(e).bind("click",function(f){b.close();return false})},init:function(){var f=new Date();b.identifier=Math.round((Math.random()*f.getTime())).toString();b.lightbox=document.createElement("DIV");$("form:eq(0)").append($(b.lightbox).attr("id","lightbox-"+b.identifier).addClass("lightbox").hide());$(b.lightbox).css({"z-index":9999,position:"absolute",left:0,top:0});if(c.closeText&&c.closeText.length>0){var e=document.createElement("A");$(b.lightbox).append($(e).addClass("remove").attr("href","javascript:void(0);").css({position:"absolute",top:12,"z-index":99999}).html(c.closeText));b.bindCloseEventhandler($(e))}if(c.container){$(b.lightbox).append($(c.container).show());if(!c.contentUrl){b.initialized=true}b.bindCloseEventhandler($(b.lightbox).find("a.pCancel"))}$("body").append($(b.siteOverlay).attr("id","overlay-"+b.identifier).addClass("site-overlay").hide());$(b.siteOverlay).css({top:0,left:0,"z-index":999,position:"absolute"});$(b.siteOverlay).css(c.overlayCss);if(c.closeOnBlur){$(b.siteOverlay).bind("click",function(g){b.close()})}$(window).bind("resize",function(g){b.resize()}).bind("scroll",function(g){b.scroll()}).bind("keydown",function(g){if(g.keyCode==27){b.close()}})},loadAndShow:function(){$(b.siteOverlay).show();if(!$(c.loadingMsgId).get(0)){$("body").append(c.loadingMsg)}b.showLoading();if(b.initialized){b.show()}else{if(c.contentUrl&&!b.loading){b.loading=true;var f=c.container?$(c.container):$(b.lightbox);f.hide();var g=f;if(!c.literal){f.empty();var e="Sluiten";f.append("<div id='popup'><div class='shadow'><div class='heading'>"+c.title+"</div><div class='content'></div><div style=\"padding: 10px;\"><strong><a class='remove2' title='"+e+"' href='#'>"+e+"</a></strong></div></div></div>");f.attr("class","popup");g=f.find(".content")}g.load(c.contentUrl,c.contentParams,function(){b.bindCloseEventhandler($(b.lightbox).find("a.remove2"));b.initialized=true;b.loading=false;b.show();if(c.callback!=null){c.callback()}if($(".image img").length){$(".image img").load(function(){b.positionAndSize(false)})}})}else{}}},showLoading:function(){$(c.loadingMsgId).show();$(b.lightbox).show();b.positionAndSize(false,$(c.loadingMsgId).get(0))},show:function(){b.visible=true;if(!jQuery.support.opacity){$("#wrapper select").hide()}$(c.loadingMsgId).hide();var e=c.container?$(c.container):$(b.lightbox);e.show();b.positionAndSize(false)},close:function(){b.visible=false;if(!jQuery.support.opacity){$("#wrapper select").show()}$(b.lightbox).hide();$(b.siteOverlay).hide();$(c.loadingMsgId).hide()},getPopupDOM:function(){},resize:function(){b.positionAndSize(false)},scroll:function(){b.positionAndSize(false)},positionAndSize:function(h,g){if(typeof(g)=="undefined"){g=b.lightbox}if(g==b.lightbox&&!b.visible){return}var j=$(document).width();var m=Math.min($(document).height(),$("body").height()+parseInt($("body").css("padding-bottom"))+parseInt($("body").css("padding-top")));var e=$(window).width();var f=$(window).height();var i=g.clientHeight+20;$(b.siteOverlay).width(e).height(Math.max(m,f,i));if(c.container&&$(c.container).height()&&$(c.container).width()){$(g).width($(c.container).width());$(g).height($(c.container).height())}if(c.width){$(g).width(c.width)}if(c.height){$(g).height(c.height).css("overflow-y","auto")}var l=h?0:$(document).scrollTop();var k=((f/2)+l)-($(g).height()/2);if(k<0){k=10}left=(e/2)-($(g).width()/2);$(g).css({top:k+"px",left:left+"px"});neww=Math.min($(window).width(),$(".lightbox").width());$(".lightbox .title").width(neww-(left<0?left:0))}};b.init();return{Show:function(){b.loadAndShow()},Close:function(){b.close()}}};